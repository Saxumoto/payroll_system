{% extends 'base.html' %}

{% block title %}Dashboard - Payroll System{% endblock %}
{% block page_title %}Dashboard{% endblock %}

{% block content %}

<!-- Stats Cards -->

<div class="stats-cards">
<!-- Total Employees -->
<div class="stat-card">
<div class="stat-card-icon text-blue">
<i class="bi bi-people-fill"></i>
</div>
<div class="stat-card-info">
<h3>Total Employees</h3>
<span>{{ total_employees }}</span>
</div>
</div>

<!-- Total Salary -->
<div class="stat-card">
    <div class="stat-card-icon text-red">
        <i class="bi bi-cash"></i>
    </div>
    <div class="stat-card-info">
        <h3>Total Salary</h3>
        <span>₱{{ total_salary }}</span>
    </div>
</div>

<!-- Average Salary (Example) -->
<div class="stat-card">
    <div class="stat-card-icon text-lblue">
        <i class="bi bi-graph-up"></i>
    </div>
    <div class="stat-card-info">
        <h3>Average Salary</h3>
        <span>₱{% if total_employees > 0 %}{{ "%.2f"|format(total_salary|float / total_employees) }}{% else %}0.00{% endif %}</span>
    </div>
</div>

<!-- Recent Payments (Example) -->
<div class="stat-card">
    <div class="stat-card-icon text-grey">
        <i class="bi bi-receipt"></i>
    </div>
    <div class="stat-card-info">
        <h3>Recent Payments</h3>
        <span>0</span> {# Placeholder as per image #}
    </div>
</div>


</div>

<!-- Main Content Columns -->

<div class="dashboard-columns">

<!-- Quick Actions Card -->
<div class="card">
    <div class="card-header">
        <h3>Quick Actions</h3>
    </div>
    <div class="action-buttons">
        <a href="{{ url_for('add_employee_route') }}" class="btn btn-action btn-blue">
            <i class="bi bi-person-plus-fill"></i>
            <span>Add Employee</span>
        </a>
        <a href="#" class="btn btn-action btn-red">
            <i class="bi bi-calculator-fill"></i>
            <span>Process Payroll</span>
        </a>
        <a href="{{ url_for('employee_list') }}" class="btn btn-action btn-blue">
            <i class="bi bi-file-earmark-text-fill"></i>
            <span>View Reports</span>
        </a>
        <a href="#" class="btn btn-action btn-red">
            <i class="bi bi-people-fill"></i>
            <span>Manage Staff</span>
        </a>
    </div>
</div>

<!-- Recent Employees Card -->
<div class="card">
    <div class="card-header">
        <h3>Recent Employees</h3>
    </div>
    <ul class="employee-list">
        {% for employee in employees|slice(0, 5) %} <!-- Show top 5 -->
        <li class="employee-list-item">
            <div class="employee-info">
                <img src="{{ url_for('static', filename='uploads/' + (employee.photo if employee.photo else 'default.png')) }}" 
                     alt="{{ employee.name }}"
                     onerror="this.src='{{ url_for('static', filename='uploads/default.png') }}';">
                <span>{{ employee.name }}</span>
            </div>
            <span class="employee-position">{{ employee.position }}</span>
        </li>
        {% else %}
        <li class="employee-list-item">
            <span>No employees found.</span>
        </li>
        {% endfor %}
    </ul>
</div>


</div>
{% endblock %}

{% block scripts %}

<!-- No scripts needed for this page as charts were removed to match the new design -->

{% endblock %}